@model BinaryCityProject.Models.Client_Contact_List




<div class="container">
    <div class="card-body d-flex justify-content-around">
        <h1> Client Card</h1>
    </div>
    <div class="card">
        <div class="card-body d-flex justify-content-around">
            <h5 class="card-title">@Model.Client!.Client_Name</h5>
            <p class="card-text">
                <h3>Key : <b>@Model.Client_Key</b> </h3>
                <h3> No. Of Contacts : @Model.Client.Contacts!.Length</h3>
            </p>
        </div>

        @if (Model.Client.Contacts.Length! > 0)
        {
            <table class="table table-dark table-striped">
                @foreach (Contact c in @Model.Client.Contacts)
                {
                    <tr>
                        <th scope="row">2</th>
                        <td>@c.Contact_Key</td>
                        <td>@c.Contact_Mail</td>
                        <td>@c.Contact_Name</td>
                        <td>@c.Contact_Number</td>
                        <td>
                            <a class="card-link"
                       asp-area=""
                       asp-controller="Client"
                       asp-action="delinkContact"
                       asp-route-Client_Key="@Model.Client_Key"
                       asp-route-Contact_Key="@c.Contact_Key">
                                Unlink
                            </a>
                        </td>
                    </tr>
                }
            </table>
        }
        else
        {

            <button type="button" class="btn btn-danger btn-lg">No Contacts Found</button>

        }


        <div class="card-body  d-flex justify-content-around">
            <a class="text-dark" asp-area="" asp-controller="Client_Contact_List" asp-action="ContactLink" asp-route-id="@Model.Client_Key">
                <button class="btn btn-primary">Link New Contact</button>
            </a>
        </div>
    </div>
</div>
